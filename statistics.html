
		<style>
			h3
			{
				text-align: center;
				
			}

			button
			{
				width: 25%;
				height: 100px;
				position: relative;
				left: 37%;
			}
		</style>

		<script type="text/javascript">

				var dataElementsArray = [];
				var indicatorsArray = [];
				var dataElementsUsedArray = [];
				var dataElementsNotUsedArray = [];
				var indicatorsUsedArray = [];
				var indicatorsNotUsedArray = [];
				var tempIndicators = [];

				
				//counters needed
				var dataElementsNo,dataElementsUsedNo,dataElementsNotUsedNo;
				var indicatorsNo,indicatorsUsedNo,indicatorsNotUsedNo;
				var myIndex=0;

				//clickable indicators and data elements
				var indicatorsClickable,dataElementsClickable;

				

					

	//$(document).ready(function()}{});
			//getting a list of all indicators and data elements
				function populateArray()
				{
					$.get("../api/dataElements.json",function(dataElements)
						{ 
							$(dataElements.dataElements).each(function(i,data)
							{
								dataElementsArray.push(data.name);
						
							});
						});

					$.get("../api/indicators.json",function(indicators)
						{	
							$(indicators.indicators).each(function(i,data)
								{
									
									indicatorsArray.push(data.name);
					
								});indicatorsUsed
						});
				}

			//function for charts
				function getCharts()
				{	
					document.getElementById("indicatorsUsed").style.display="";
					//getting data from charts and analysing
					$.get("../api/charts.json",function(charts)
						{						
									
							$(charts.charts).each(function(i,myCharts)
								{
									var linkCharts=myCharts.href+"/data";
									$.get(myCharts.href+".json",function(data)
										{	
											$(data.indicators).each(function(i,data)
												{
														if(indicatorsUsedArray.indexOf(data.name)==-1)
														{	
											indicatorsUsedArray.push(data.name);
											indicatorsClickable="<p id='"+linkCharts+"' onclick='show(id);'>"+data.name+"</p>";
											$("#indicatorsUsed").append(indicatorsClickable);
														}
												});
											
										});
								});

						});
				}


				//function for getting indicators in map views
				function getMaps()
				{
					//getting data from maps and analysing
					$.get("../api/mapViews.json",function(maps)
						{	
							$(maps.mapViews).each(function(i,myMaps)
								{
									var linkMaps=myMaps.href+"/data";
									$.get(myMaps.href+".json",function(data)
										{
													if(indicatorsUsedArray.indexOf(data.name)==-1)
														{
											indicatorsUsedArray.push(data.name);
											indicatorsClickable="<p id='"+linkMaps+"' onclick='show(id);'>"+data.name+"</p>";
											$("#indicatorsUsed").append(indicatorsClickable);	
														}
										});
								});
						});
				}	

				//getting dATa elements from report tables
				function getReportTables()
				{
					document.getElementById("dataElementsUsed").style.display="";
					//getting data from report tables and analysing

					$.get("../api/reportTables.json",function(reports)
						{	
							$(reports.reportTables).each(function(i,myReports)
								{
									$.get(myReports.href+".json",function(data)
										{	
											var dataElementName=data.name;
											$(data.dataElements).each(function(i,data)
												{
													if(dataElementsUsedArray.indexOf(data.name)==-1)
														{
									dataElementsUsedArray.push(data.name);
									dataElementsClickable="<p id='"+dataElementName+"' onclick='show(id);'>"+data.name+"</p>";
									$("#dataElementsUsed").append(dataElementsClickable);
														}
												});	
										});
								});
						});
				}


				//getting data elements from sections
				function getSections()
				{
					//getting data from report tables and analysing
					$.get("../api/sections.json",function(sections)
						{	
							$(sections.sections).each(function(i,mySections)
								{
									$.get(mySections.href+".json",function(data)
										{
											var sectionName=data.name;
											$(data.dataElements).each(function(i,data)
												{
													if(dataElementsUsedArray.indexOf(data.name)==-1)
														{
								dataElementsUsedArray.push(data.name);
								dataElementsClickable="<p id='"+sectionName+"' onclick='show(id);'>"+data.name+"</p>";
								$("#dataElementsUsed").append(dataElementsClickable);
														}
												});	
										});
								});


						});
				}	
				
	
		$(document).ready(function()
			{
				getCharts();
				getMaps();
				getReportTables();
				getSections();
			});

		$(document).ajaxStop(function()
			{
				
				/*document.getElementById("indicatorsNotUsed").style.display="";
				document.getElementById("dataElementsNotUsed").style.display="";

				$().each(function(i,myIndicator)
					{
						$("#indicatorsNotUsed").append(myIndicator+"<br>");
					});

				$().each(function(i,myDataElements)
					{
						$("#dataElementsNotUsed").append(myIndicator+"<br>");
					});*/
			});


				
			
				
		
			
						
						
						
							
			


				
/*
				


				


				
				
			

				//doing lookups,analysing the dapercentDataElementstapercentDataElementsopulateArray();
				function stats() 
				{
				}
				*/	

					
				
		</script>

	
		<h2 style="text-align:center;">Statistical analysis of usage of indicators and data elements</h2>
		
		<button onclick="javascript:getSections();">RUN</button>
<div id="indicatorsUsed" style="display:none;">
<h3>Used Indicators</h3>
</div>

<div id="indicatorsNotUsed" style="display:none;">
<h3>Indicators that are not used</h3>
</div>

<div id="dataElementsUsed" style="display:none;">
Indicators that are not used
</div>

<div id="dataElementsNotUsed" style="display:none;">
Indicators that are not used
</div>

<div id="more" style="display:none">

</div>