
		<style>
			h3
			{
				text-align: center;
				
			}

			button
			{
				width: 25%;
				height: 100px;
				position: relative;
				left: 37%;
			}
		</style>

		<script type="text/javascript">

				var dataElementsArray = [];
				var indicatorsArray = [];
				var dataElementsUsedArray = [];
				var dataElementsNotUsedArray = [];
				var indicatorsUsedArray = [];
				var indicatorsNotUsedArray = [];
				var tempIndicators = [];

				
				//counters needed
				var dataElementsNo,dataElementsUsedNo,dataElementsNotUsedNo;
				var indicatorsNo,indicatorsUsedNo,indicatorsNotUsedNo;
				var myIndex=0;


				

					

	//$(document).ready(function()}{});
			//getting a list of all indicators and data elements
				function populateArray()
				{
					$.get("../api/dataElements.json",function(dataElements)
						{ 
							$(dataElements.dataElements).each(function(i,data)
							{
								dataElementsArray.push(data.name);
						
							});
						});

					$.get("../api/indicators.json",function(indicators)
						{	
							$(indicators.indicators).each(function(i,data)
								{
									
									indicatorsArray.push(data.name);
					
								});
						});
				}

			//function for charts
				function getCharts()
				{
					//getting data from charts and analysing
					$.get("../api/charts.json",function(charts)
						{						
									
							$(charts.charts).each(function(i,myCharts)
								{
									$.get(myCharts.href+".json",function(data)
										{	
											$(data.indicators).each(function(i,data)
												{
														if(indicatorsUsedArray.indexOf(data.name)==-1)
														{
															indicatorsUsedArray.push(data.name);

														}
												});
											
										});
								});

						});
				}


				//function for getting indicators in map views
				function getMaps()
				{
					//getting data from maps and analysing
					$.get("../api/mapViews.json",function(maps)
						{	
							$(maps.mapViews).each(function(i,myMaps)
								{
									$.get(myMaps.href+".json",function(data)
										{
													if(indicatorsUsedArray.indexOf(data.name)==-1)
														{
															indicatorsUsedArray.push(data.name);
															
														}
										});
								});
						});
				}	

				//getting dATa elements from report tables
				function getReportTables()
				{
					//getting data from report tables and analysing

					$.get("../api/reportTables.json",function(reports)
						{	
							$(reports.reportTables).each(function(i,myReports)
								{
									$.get(myReports.href+".json",function(data)
										{
											$(data.dataElements).each(function(i,data)
												{
													if(dataElementsUsedArray.indexOf(data.name)==-1)
														{
															dataElementsUsedArray.push(data.name);

														}
												});	
										});
								});
						});
				}


				//getting data elements from sections
				function getSections()
				{
					//getting data from report tables and analysing
					$.get("../api/sections.json",function(sections)
						{	
							$(sections.sections).each(function(i,mySections)
								{
									$.get(mySections.href+".json",function(data)
										{
											$(data.dataElements).each(function(i,data)
												{
													if(dataElementsUsedArray.indexOf(data.name)==-1)
														{
															dataElementsUsedArray.push(data.name);

														}
												});	
										});
								});


						});
				}	
				
	
		$(document).ready(function()
			{
				getCharts();
				getMaps();
				getReportTables();
				getSections();
			});

		$(document).ajaxStop(function(){alert("works");});


				
			
				
		
			
						
						
						
							
			


				
/*
				


				


				
				
			

				//doing lookups,analysing the dapercentDataElementstapercentDataElementsopulateArray();
				function stats() 
				{
				}
				*/	

					
				
		</script>

	
		<h2 style="text-align:center;">Statistical analysis of usage of indicators and data elements</h2>
		
		<button onclick="javascript:getSections();">RUN</button>
<div id="totals">
	<span id="indicators" style="font-size:40px;"></span> &nbsp&nbsp&nbsp		
	<span id="dataElements" style="font-size:40px;"></span>
</div>
<div id="used" style="width:30%;">

</div>

<div id="notUsed" style="width:30%;">
</div>
<div id="more" style="width:30%;">

</div>